{% extends 'base/user_side/base_user.html' %}

{% block title %}
Orders Details
{% endblock %}

{% block content %}

{% load static %}
<!-- Header -->
{% include 'base/user_side/includes/header.html' %}
<div style="z-index: 100000; position: absolute; top: 0px; left: 0; right: 0;">
	{% include 'base/user_side/includes/alerts.html' %}
</div>	
<!-- Cart -->
{% include 'base/user_side/includes/header_cart.html' %}

<style>
    .modal-custom{
        position: fixed;
        top: 120px;
        right: 0;
        bottom: 0;
        left: 0;
    }
</style>
  


<div class="container">
    <div class="row">
        {% include 'base/user_side/includes/dashboard.html' %}
        <div class="col-md-9 col-sm-9">
            <div class="card-title p-3 ">
                Order Details
            </div>
            <div class="card">
                <div class="card-header p-3 m-3">
                    <h4>Invoice Details</h4>
                    <div class="d-flex justify-content-between text-left card-body">
                        <div class="">
                            <ul class="list-unstyled mb0">
                            <li><strong>Order: </strong>{{order.order_id}}</li>
                            <li><strong>Transaction: </strong> {{order.payment.payment_id}}</li>
                            </ul>
                        </div>
                        <div class="">
                        <ul class="list-unstyled mb0">
                            <li><strong>Order Date: </strong> {{order.created_at}}</li>
                            <li><strong>Status: </strong> {{order.order_status}}</li>
                        </ul>
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-between text-left card-body ">
                    <div class="col-7 border border-black-50 m-2">
                        <div class="p-3 m-3">
                            <h5>Product details</h5>
                        </div>
                        <div class="p-3 m-3">
                            <table class="table">
                                <thead>
                                     <tr class="table_head">
                                        <th class="column-1">Product</th>
                                        <th class="column-3">Price</th>
                                        <th class="column-4 text-center">Quantity</th>
                                    </tr>
                                 </thead>
                            <tbody>
                                {% for product in products %}
                                
                                <tr class="table_row">
                                    <td class="column-1">
                                        <div class="d-flex justify-content-start bd-highlight mb-3">
                                            <div class=" how-itemcart1">
                                                <img src="{{ product.variant.thumbnail_image.url }}" alt="IMG">
                                            </div>
                                            <figcaption class="info">
                                                <a href="{{ product.variant.get_url }}" class="title text-dark">{{product.variant.product}}
                                            </a>
                                                <p class="text-muted small">
                                                    {% for value in product.variant.attribute.all %}
                                                    {{value.attribute}}: {{value.attribute_value}}
                                                    <br>
                                                    
                                                    {% endfor %}
                                                    
                                                    Publication: {{product.variant.product.publication}}
                                                </p>
                                            </figcaption>
                                        </div>
                                    </td>
                                    <td class="column-3">
                                        Rs.{{product.variant.sale_price}}
                                    </td>
                                    <td class="column-4">
                                        <h6 class="text-center">{{product.quantity}}</h6>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th colspan="2" class="text-right">Sub Total:</th>
                                    <th class="text-center ">&#8377;{{sub_total}}</th>
                                </tr>
                                <tr>
                                    <th colspan="2" class="text-right">Tax:</th>
                                    <th class="text-center text-danger">&#8377;{{tax}}</th>
                                </tr>
                                <tr>
                                    <th colspan="2" class="text-right">Net payable amount:</th>
                                    <th class="text-center"><strong>&#8377;{{ grand_total }}</strong></th>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                    </div>
                    <div class="flex-column">
                        <div class="card m-2 ">
                            <div class="card-header bg-none p-3 m-3">
                                <h5>Shipping Address</h5>
                            </div>
                            <div class="card-body form-group p-3 m-3 ">
                                {{order.address.name}}<br>
                                {{order.address.phone_number}},
                                {{order.address.address_line_1}},
                                {{order.address.address_line_2}}<br>
                                {{order.address.city}},
                                {{order.address.state}},
                                {{order.address.pincode}}<br>
                                {{order.address.country}}
                            </div>
                        </div>
                        
                        <div class="row card m-2">
                            <div class="card-header bg-none p-3 m-3">
                                <h5>Payment Details</h5>
                            </div>
                            <div class="card-body form-group p-3 m-3 ">
                                Payment Method : {{payment.method.method_name}}<br>
                                Payment ID : {{payment.payment_order_id}}
                                Payment Signature : {{payment.signature}}
                                
                            </div>
                        </div>
                        
                    </div> 
                </div>
                <div class="card m-2 p-2">
                    <div class="card-title ">
                        
                                                
                                                <!-- Button trigger modal -->
                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#cancelModalCenter">
                            Cancel Order
                        </button>
                        
                        <!-- Modal -->
                        <div class="modal fade modal-custom" id="cancelModalCenter" tabindex="-1" role="dialog" aria-labelledby="cancelModalCenterTitle" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                                </div>
                                <div class="modal-body">
                                ...
                                </div>
                                <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary">Save changes</button>
                                </div>
                            </div>
                            </div>
                        </div>





                        <!-- <span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-down-fill" viewBox="0 0 16 16">
                                <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
                            </svg>
                        </span> -->
                    </div>

                </div>
        </div>
        <br>
        <br>
        <br>

        </div>
    </div>
</div>
{% endblock %}